# Language setting
language: node_js


# Version number
node_js:
  - 0.12
 # - 0.10
  
  
env:
  global:
    - PROJECT_ID="56cdeca3c77dae78a8e9aafd" 
    - foo=bar
    - secure: EC8bYwvrccDrIPL7JPsl9TQEJxr2DaTEkEqfVLfj485puAkZkpP9Drnb6OUIQJGzMOPY3zM0WOiD9qmfI2RtlRYn0dFHR50ZmMtUBiEoE5EauvPvqMqhw+BWs7cvqwRAY7dKhFLgX0o0ADmUQz/yj996SkJ2/4wSG3nYWzKlnmzQRetoIVuWNaYPoHcT+MRBJqjoq3JbsJCos7R7SdDfdwPnL7w15Kq0M6UkhPEqupXuxV59/NQU6kmW0NerKXALmwvQaEWUCf57WSdFlWyBZKLQ344L1kquh0JT/OoX+huymh1M/UfN/9NtqCkhCKaMSZQqn2Z5/BDf8SXwCESZLg==
    - secure: JbJyCBuaFiZVnSw5LE2y3VkrSTgo6c0n37UDRr1ePASCT81LonpwXZBxj/K7Tdq9X73POGnUEouQmeh9oQSEix2ICCrdPGib4WEK0SmXb0Nn01J5OporwPsIVP3GsxzswLiLpducxbGYjRzx19D6qDOala4ubcV9u3Fm4P+ATYZ2EJtOzLD/LrCy7g+GuIM1MvJJLlKyMX2lIAA4w/CECzU+PQn+W+3qb5bvmEqQvfP9HEXI7oC55FObVetdIbFqwcCEtkD4VC20E8VmnYezLeh+aA+Y2D3mOS/ydOn47K2ahd9hILAHUZWgHtYmxHp5Fhe/wvSgwj00nK69L5bqbQ==
    - secure: h/zlJD40V1f5IX0zelXOgsy5l0o4HF4E2upQ+Cdjv6RCs40Tuey0gv+YC5HqaWMEKSDHa/8WqvyrC5+tyik3izbWml3zCH6yBA+zauPK6dZz6QGkpUK15Zdd0uwqWraGOLmRu/EQi0bicsezGDeXBgh/VgQVfxdDmg/GWIgIveBZXZO0LybXI4ymou+yMh9vBkRzJi/i9Zk50qZAlyh+QSIsHS0acXLKrfS/x0h3tW1EPe743egA+8Dy1BR0ujuZLu2Gi5L0SnNZRPxE3rM7WCpjhiCdayzsXEMP99K0pPh97WD3+srzsQMYaRzFAr1/hCwjKj/LwjOcCS/HQXI3eA==
   # - secure: myqBBb4G21ufRAs7U3xT6Ck/5d503jIjDWMgeX1XLus9dmHYM6taSEQhv9Q38eOw3+SKHSJYLIHL9dZRPVwYVQCyk4mQn6zwW0GEHDLgY7KDEYMPRgR7+Z5p94sQk/j9hJonb0P2xp+mRmMsWO0RkablxPa7RHe0zqq92Av+a0Pl/Up3KPF27UFbSMypJUc0mhk1INenbdU/d1Mrmh9MUWadaRlIjH447GQsB7fxZ+TJ78wNKDt/ZFYWxZo1aHc0wQNIE5dYiGT/kF1HG0/j5NxPv81M61QZyxYxsVBw78THsf5tS0IKGTsLdM6K02IiXbk9itbNGJNT8kv63TLkXA==

build:
  ci:
  - echo $PROJECT_ID and $goo and $token
 # - JSON='{"projectId":"$PROJECT_ID","branchName":"master","type":"push"}'
 # - 'curl -H "Authorization: apiToken $SHIP_TOKEN" -H "Content-Type: application/json" -d "{\"projectId\": \"$PROJECT_ID\"}" https://apibeta.shippable.com/projects/$PROJECT_ID/newBuild'

#  - 'curl -H "Content-Type: application/json" -H "Authorization: $SHIP_TOKEN" -X POST -d $JSON https://apibeta.shippable.com/projects/$PROJECT_ID/newBuild'

integrations:
  
  notifications:
    
    
    - integrationName: buildtrigger
      type: webhook
      payload:
        - isPRBuild=$IS_PULL_REQUEST
        - branchName=$BRANCH
        - message=Shippable Run $BUILD_NUMBER ($BUILD_URL) succeeded for $COMPARE_URL
        - FOO=BAR
        - FIZZ=BUZZ
        
      on_failure: always
      on_start: never
      on_success: always
      branches:
        only:
          - webhook-postci-trigger
      
